# /review - コードレビュー

コードの品質、セキュリティ、パフォーマンスをレビューします。

## レビュー対象

$ARGUMENTS

## レビューチェックリスト

### 1. コード品質

- [ ] 関数/クラスの責務が明確か
- [ ] 適切な命名がされているか
- [ ] 重複コードがないか（DRY原則）
- [ ] 複雑すぎる処理がないか
- [ ] コメントが必要な箇所に適切に書かれているか

### 2. 型安全性

- [ ] `any` 型を使っていないか
- [ ] `as Type` のキャストを使っていないか（Zodを使う）
- [ ] nullableの処理が適切か
- [ ] 型推論が正しく働いているか

### 3. エラーハンドリング

- [ ] try-catch が適切に使われているか
- [ ] エラーメッセージが明確か
- [ ] エラーが握りつぶされていないか
- [ ] ユーザーへのフィードバックが適切か

### 4. セキュリティ

- [ ] ユーザー入力がバリデーションされているか
- [ ] 機密情報がログに出力されていないか
- [ ] SQLインジェクション/XSS等の脆弱性がないか
- [ ] 認証・認可が適切か

### 5. パフォーマンス

- [ ] 不要なループや再計算がないか
- [ ] 大量データの処理が適切か
- [ ] メモリリークの可能性がないか
- [ ] 非同期処理が適切か

### 6. テスト

- [ ] テストが書かれているか
- [ ] エッジケースがカバーされているか
- [ ] テストが意味のあるアサーションをしているか

### 7. プロジェクト規約

- [ ] レイヤー構造に従っているか（handlers → services → utils）
- [ ] Zodでバリデーションしているか
- [ ] ハンドラーマップに登録されているか

## レビュー実行

```bash
# 静的解析
npm run lint
npm run typecheck

# テスト
npm test
```

## フィードバックの形式

問題を発見した場合は以下の形式で報告：

```
## [重要度: High/Medium/Low]

**ファイル:** path/to/file.ts:行番号
**問題:** 問題の説明
**提案:** 修正案
```
